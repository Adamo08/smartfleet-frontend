<div class="p-6 backdrop-blur-2xl bg-gradient-to-br from-slate-900/40 via-indigo-900/30 to-slate-900/40 border border-white/10 rounded-3xl">
  <h2 class="text-xl font-semibold text-white mb-4">Reservations</h2>

  <form [formGroup]="filterForm" class="flex gap-2 mb-4">
    <input class="bg-slate-900/60 border border-white/10 rounded-xl p-2 text-white" placeholder="User ID" formControlName="userId">
    <input class="bg-slate-900/60 border border-white/10 rounded-xl p-2 text-white" placeholder="Vehicle ID" formControlName="vehicleId">
    <input class="bg-slate-900/60 border border-white/10 rounded-xl p-2 text-white" placeholder="Status" formControlName="status">
    <button type="button" class="px-3 py-2 rounded-xl bg-gradient-to-r from-indigo-600 to-cyan-600 text-white" (click)="load(0)">Filter</button>
  </form>

  @if (isLoading) {
    <div class="text-gray-300">Loading...</div>
  } @else {
  <table class="min-w-full text-sm text-gray-200">
    <thead>
      <tr class="text-left border-b border-white/10">
        <th class="p-2">ID</th>
        <th class="p-2">Vehicle</th>
        <th class="p-2">Status</th>
        <th class="p-2">Start</th>
        <th class="p-2">End</th>
        <th class="p-2">Created</th>
      </tr>
    </thead>
    <tbody>
      @for (r of reservations; track r.id) {
        <tr class="border-b border-white/10">
          <td class="p-2">{{ r.id }}</td>
          <td class="p-2">{{ r.vehicle.brand }} {{ r.vehicle.model }}</td>
          <td class="p-2">{{ r.status }}</td>
          <td class="p-2">{{ r.startDate | date:'short' }}</td>
          <td class="p-2">{{ r.endDate | date:'short' }}</td>
          <td class="p-2">{{ r.createdAt | date:'short' }}</td>
        </tr>
      }
    </tbody>
  </table>
  }
  <div class="mt-3 flex items-center gap-2">
    <button class="px-3 py-1 rounded-xl bg-indigo-500/10 text-white" (click)="load(page - 1)" [disabled]="page <= 0">Prev</button>
    <span>Page {{ page + 1 }}</span>
    <button class="px-3 py-1 rounded-xl bg-indigo-500/10 text-white" (click)="load(page + 1)" [disabled]="(page + 1) * size >= totalElements">Next</button>
  </div>
</div>
